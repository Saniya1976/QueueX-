generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
}

model User {
  id        String      @id @default(uuid())
  clerkId   String      @unique        // store Clerk's user ID
  name      String?
  email     String?
  role      String      @default("customer")
  queues    QueueEntry[]
  createdAt DateTime    @default(now())
}


model Queue {
  id        String       @id @default(cuid())
  name      String
  createdBy String
  createdAt DateTime     @default(now())
  entries   QueueEntry[]
}

model QueueEntry {
  id      String @id @default(cuid())
  queueId String
  userId  String

  queue Queue @relation(fields: [queueId], references: [id])
  user  User  @relation(fields: [userId], references: [id])

  joinedAt DateTime @default(now())
}
